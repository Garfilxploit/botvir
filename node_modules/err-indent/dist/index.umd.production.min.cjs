!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("indent-string"),require("clean-stack"),require("util"),require("check-iterable"),require("array-hyper-unique"),require("err-errors"),require("err-stack-reduce"),require("err-stack-meta"),require("error-stack2")):"function"==typeof define&&define.amd?define(["exports","indent-string","clean-stack","util","check-iterable","array-hyper-unique","err-errors","err-stack-reduce","err-stack-meta","error-stack2"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).index={},e.indentString,e._cleanStack,e.util,e.checkIterable,e.arrayHyperUnique,e.errErrors,e.errStackReduce,e.errStackMeta,e.errorStack2)}(this,(function(e,r,t,n,i,s,o,u,a,l){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=_interopDefaultLegacy(r),d=_interopDefaultLegacy(t);function _isAllowedIterable(e){return"string"!=typeof e&&!(e instanceof String)&&i.isIterable(e)}function errorsToMessageList(e,r,t){var i,o,l;if(!e||!_isAllowedIterable(e))throw new TypeError(`Invalid input errors: ${e}`);null!==(i=r)&&void 0!==i||(r={});const{handleStack:c=(e=>d.default(e))}=r;let f;null!==(o=t)&&void 0!==o||(t=r.error);let g=[];const b=u.errStackReduceCore(t,r.stackReduceOptions);return e.forEach((e=>{null!=e&&(t===e?f=String(e):g.push("string"==typeof e.stack?c(a.stringifyStackMeta(b(e)),e):n.inspect(e)))})),g=g.filter((e=>null==e?void 0:e.length)),null!==(l=f)&&void 0!==l&&l.length&&g.unshift(f),s.array_unique_overwrite(g)}function indentSubErrorMessage(e,r){var t,n;return _isAllowedIterable(e)&&(e=[...e].join("\n")),null!==(t=r)&&void 0!==t||(r={}),c.default(e,null!==(n=r.indent)&&void 0!==n?n:4,r.indentOptions)}function indentSubErrors(e,r,t){return indentSubErrorMessage(errorsToMessageList(e,r,t),r)}function messageWithSubErrors(e,r,t){var n;null!==(n=r)&&void 0!==n||(r=o.getSubErrors(e));let i=l.parseStack(e.stack,e.message),s=[];void 0!==i.message&&s.push(i.message);let u=indentSubErrors(r,t,e);if(u.length&&(0===s.length&&s.push(""),s.push(u)),s.length)return s.join("\n")}e._isAllowedIterable=_isAllowedIterable,e.default=messageWithSubErrors,e.errorsToMessageList=errorsToMessageList,e.indentSubErrorMessage=indentSubErrorMessage,e.indentSubErrors=indentSubErrors,e.indentSubErrorsFromError=function indentSubErrorsFromError(e,r){return indentSubErrors(o.getSubErrors(e),r,e)},e.messageWithSubErrors=messageWithSubErrors,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.production.min.cjs.map
